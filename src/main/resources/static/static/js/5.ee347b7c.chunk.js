(this["webpackJsonpvault-frontend"]=this["webpackJsonpvault-frontend"]||[]).push([[5],{1135:function(e,t,a){},1306:function(e,t,a){},1434:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ze}));var c=a(0),r=a(53),s=(a(1135),a(1436)),i=a(1433),l=a(1437),n=a(1026),b=a(290);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(e)>1e6?"".concat(Object(b.a)(999999),"+%"):"".concat(Object(b.a)(100*Number(e),t),"%")}var d=a(1423),j=a(1424),u=a(1429),f=a(1304),m=a(1305),v=a(1419),h=a(1420),O=a(8);function p(e){var t=e.chartData,a=Object(n.a)().t;return Object(O.jsx)("div",{className:"box-round position-relative-bak box-round",children:Object(O.jsx)("div",{className:"sv-3 p15",children:Object(O.jsx)("div",{style:{height:"300px"},children:Object(O.jsx)(d.a,{width:"100%",height:"100%",children:Object(O.jsxs)(j.a,{data:t,margin:{top:0,right:0,left:0,bottom:0},children:[Object(O.jsx)(u.a,{strokeDasharray:"3 3",stroke:"#ffffff",strokeOpacity:.06}),Object(O.jsx)(f.a,{dataKey:"time",stroke:"#ffffff",strokeOpacity:.15,fill:"#ffffff",fillOpacity:.5}),Object(O.jsx)(m.a,{domain:["auto","auto"],stroke:"#ffffff",strokeOpacity:.15,fill:"#ffffff",fillOpacity:.5,unit:""}),Object(O.jsx)(v.a,{contentStyle:{backgroundColor:"rgba(0,0,0,0.65)",border:"none",borderRadius:"6px",padding:"10px"},labelStyle:{color:"#fff",fontSize:"14px"},formatter:function(e){return["".concat(e),a("chart.tooltip.label")]}}),Object(O.jsx)(h.a,{type:"monotone",dataKey:"value",activeDot:{r:4},stroke:"#45f5a1",fill:"#45f5a1",fillOpacity:.08})]})})})})})}var x,k,N=a(1430),g=a(1029),y=a(365),w=a(1439),_=a(1045),M=a(1044),T=a(1440),D=a(256),S=N.a.Sider,P=function(e){var t=e.icon,a=e.title,c=e.url,r=e.showArrow,s=void 0===r||r,i=e.right;return Object(O.jsxs)("div",{onClick:c?function(){D.a.push(c)}:null,className:"cols-between h-50 center-v pl10 pr10 ".concat(c?"cursor-pointer":""),style:{borderBottom:"1px solid rgba(0,0,0,0.15)"},children:[Object(O.jsxs)("div",{className:"d-flex sh-2 fc-black center-v",children:[t,Object(O.jsx)("div",{className:"fs18 fw-bold",children:a})]}),Object(O.jsxs)("div",{className:"fs16 sh-2",children:[i,s&&Object(O.jsx)(y.a,{className:"fs16 fc-black"})]})]})},R=function(){return Object(O.jsxs)("div",{className:"box-round bg-primary",style:{width:"360px"},children:[Object(O.jsx)(P,{icon:Object(O.jsx)(w.a,{className:"fs16"}),title:"Home",url:"/"}),Object(O.jsx)(P,{icon:Object(O.jsx)(_.a,{className:"fs20"}),title:"Smart Vault",url:"/vaults"}),Object(O.jsx)(P,{icon:Object(O.jsx)(M.a,{className:"fs20"}),title:"Backtesting",url:"/backtest"})]})},Y=function(e){var t=Object(n.a)().t;return Object(O.jsxs)(N.a,{style:{minHeight:"100vh"},className:"vault-detail-page",children:[Object(O.jsxs)(S,{trigger:null,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,backgroundColor:"rgba(0,0,0,0.25)",borderRight:"1px solid rgba(255,255,255,0.1)"},width:"360px",collapsible:!0,className:"bg-sider",children:[Object(O.jsxs)("div",{className:"h-60 d-flex center-v text-left sh-2",children:[Object(O.jsx)(g.a,{overlay:Object(O.jsx)(R,{}),children:Object(O.jsx)(T.a,{className:"fs20 fw-bolder fc-grey h-55 center-vh pl15"})}),Object(O.jsx)("a",{href:"/",className:"fs20 fw-bolder fc-grey",children:"Universe Finance"}),Object(O.jsx)("div",{className:"bg-primary h-25 center-vh fs12 pl10 pr10 fc-black circle",children:t("backtest.title")})]}),Object(O.jsx)("div",{className:"",style:{borderBottom:"1px solid rgba(255,255,255,0.1)"}}),e.sider]}),Object(O.jsxs)(N.a,{className:"",style:{marginLeft:360},children:[Object(O.jsx)(B,{}),Object(O.jsx)("div",{className:"pl20 pr20 pb20",children:e.children})]})]})},B=function(){var e=Object(n.a)().t;return Object(O.jsxs)("div",{className:"h-60 center-vh cols-type-010 pl20 pr20",children:[Object(O.jsx)("div",{className:"w-80"}),Object(O.jsx)("div",{className:"fs22 fc-grey text-center",children:e("backtest.slogan")}),Object(O.jsx)("div",{className:"w-80 text-right"})]})},H=a(22),I=a(1432),F=a(1040),L=a(1028),q=a(186),C=a(1104),z=a.n(C),A=a(503),E=a(1444),U=a(3),V=a.n(U),$=a(31),J=a(544),G=a(470);function K(){return(K=Object($.a)(V.a.mark((function e(t){var a,c,r,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/backtest",a="".concat(G.a.REACT_APP_REST_API_BASE_URL).concat("/backtest"),c=JSON.stringify(t),e.prev=3,e.next=6,fetch("".concat(a),{method:"POST",headers:{"Content-Type":"application/json"},body:c});case 6:return r=e.sent,e.next=9,r.json();case 9:if(200!==(s=e.sent).code){e.next=14;break}return e.abrupt("return",s.data);case 14:return J.b.error("Server exception (".concat(s.code,")")),e.abrupt("return",{});case 16:e.next=23;break;case 18:return e.prev=18,e.t0=e.catch(3),console.log("request error",e.t0),J.b.error("Network exception"),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}!function(e){e.Low="0.0005",e.Medium="0.003",e.High="0.01"}(x||(x={})),function(e){e[e.Low=10]="Low",e[e.Medium=60]="Medium",e[e.High=200]="High"}(k||(k={}));a(1306);var W,Q,X=a(57),Z=a(507),ee=["timeRange"];function te(e){return[1.05,1.1,1.2,1.3,1.4,1.5].map((function(t){var a=Math.log(t)/Math.log(1.0001),c=Math.round(a/e)*e,r=(100*(t-1)).toFixed(1);return{tick:c,range:"-".concat(r,"% ~ +").concat(r,"% ( ").concat(2*c," ticks )"),desc:""}}))}var ae=(W={},Object(X.a)(W,x.Low,te(k.Low)),Object(X.a)(W,x.Medium,te(k.Medium)),Object(X.a)(W,x.High,te(k.High)),W);function ce(e){var t=1.0001;return[1.02,1.03,1.04,1.05,1.06,1.08,1.1,1.15].map((function(a){var c=Math.log(a)/Math.log(t),r=Math.round(c/e)*e,s=(100*(Math.pow(t,r)-1)).toFixed(1);return{tick:r,range:"".concat(s,"% ( ").concat(r," ticks )"),desc:""}}))}function re(e){return Math.pow(1.0001,e)-1}var se=(Q={},Object(X.a)(Q,x.Low,ce(k.Low)),Object(X.a)(Q,x.Medium,ce(k.Medium)),Object(X.a)(Q,x.High,ce(k.High)),Q),ie=I.a.RangePicker,le=function(e){return Object(O.jsxs)("div",{className:"d-flex sh-2 pl5 custom-option",children:[Object(O.jsx)("div",{style:{width:"150px"},className:"fw-bolder",children:e.title}),Object(O.jsx)("div",{className:"custom-option-des",style:{color:"rgba(255,255,255,0.35)"},children:e.des})]})},ne=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.Medium,a=ae[t];return a.map((function(e,t){return{id:t,label:Object(O.jsx)(le,{des:e.desc,title:e.range}),value:e.tick,disabled:!1}}))},be=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.Medium,a=se[t];return a.map((function(e,t){return{id:t,label:Object(O.jsx)(le,{des:e.desc,title:e.range}),value:e.tick,disabled:!1}}))};function oe(e,t,a){var c=t.find((function(t){return t.value===e})).feeType;return{priceOptions:ne(a,c),thresholdOptions:be(a,c)}}function de(e){var t=e.onBacktestDataFetched,a=e.onLoading,s=function(e){var t,a,c=null!==(t=null===(a=new URLSearchParams(e).get("q"))||void 0===a?void 0:a.split(","))&&void 0!==t?t:[];return c.length?{pair:c[0],boundaryThreshold:Number(c[1]),reBalanceThreshold:Number(c[2]),direction:Number(c[3]),timeRange:[z()(c[4]),z()(c[5])],days:Number(c[6]),amount0:Number(c[7]),amount1:Number(c[8]),period:Number(c[9]),length:Number(c[10])}:{}}(Object(A.e)().search),i=Object(n.a)().t,l=ne(i),b=be(i),o=function(e){return[{id:1,label:Object(O.jsx)(le,{des:"",title:"$ 10,000"}),value:1e4,disabled:!1},{id:2,label:Object(O.jsx)(le,{des:"",title:"$ 100,000"}),value:1e5,disabled:!1},{id:3,label:Object(O.jsx)(le,{des:"",title:"$ 1,000,000"}),value:1e6,disabled:!1},{id:4,label:Object(O.jsx)(le,{des:"",title:"$ 5,000,000"}),value:5e6,disabled:!1},{id:5,label:Object(O.jsx)(le,{title:e("backtest.form.field.lqt_more"),des:""}),value:-1,disabled:!0}]}(i),d=(function(e){e("backtest.form.field.rs_null"),e("backtest.form.field.rs_mf"),e("backtest.form.field.rs_bull"),e("backtest.form.field.rs_bear"),e("backtest.form.field.rs_more")}(i),[{id:1,label:"Uniswap V3 USDC-WETH 0.3%",value:"0x8ad599c3A0ff1De082011EFDDc58f1908eb6e6D8",feeType:x.Medium,disabled:!1}]),j=Object(H.a)({pair:d[0].value,boundaryThreshold:l[0].value,reBalanceThreshold:b[0].value,amount0:o[0].value,amount1:0,days:0,period:270,length:1,direction:3,timeRange:[z()("2021/09/01","YYYY-MM-DD"),z()()]},s),u=oe(j.pair,d,i),f=Object(c.useState)(u.priceOptions),m=Object(r.a)(f,2),v=m[0],h=m[1],p=Object(c.useState)(u.thresholdOptions),k=Object(r.a)(p,2),N=(k[0],k[1]),g=Object(A.d)(),y=Object(c.useState)(j),w=Object(r.a)(y,2),_=w[0],M=w[1],T=Object(c.useState)(!1),D=Object(r.a)(T,2),S=D[0],P=D[1],R=function(){var e=function(e){var t=e.timeRange,a=Object(Z.a)(e,ee);return Object(H.a)(Object(H.a)({},a),{},{startTs:t[0].unix(),endTs:t[1].unix()})}(_);P(!0),a(!0),function(e){return K.apply(this,arguments)}(e).then((function(e){P(!1),t(e),a(!1)}))};return Object(E.a)((function(){Object.keys(s).length&&R()})),Object(c.useEffect)((function(){var e=function(e){var t=e.pair,a=e.boundaryThreshold,c=e.reBalanceThreshold,s=e.direction,i=Object(r.a)(e.timeRange,2),l=i[0],n=i[1],b=e.days,o=void 0===b?0:b,d=e.amount0,j=e.amount1,u=void 0===j?0:j,f=e.period,m=void 0===f?0:f,v=e.length,h=void 0===v?0:v;return[t,a,c,s,l.format("YYYY/MM/DD"),n.format("YYYY/MM/DD"),o,d,u,m,h].join(",")}(_);e&&g.replace("/backtest?q=".concat(e))}),[_,g]),Object(O.jsx)("div",{className:"",children:Object(O.jsxs)(F.a,{initialValues:j,colon:!1,layout:"vertical",onValuesChange:function(e){var t={};if(e.pair){var a=oe(e.pair,d,i);h(a.priceOptions),N(a.thresholdOptions),t.boundaryThreshold=a.priceOptions[0].value,t.reBalanceThreshold=a.thresholdOptions[0].value}M(Object(H.a)(Object(H.a)(Object(H.a)({},_),e),t))},children:[Object(O.jsx)(F.a.Item,{className:"mb15",label:i("backtest.form.field.pool"),name:"pair",children:Object(O.jsx)(L.a,{placeholder:d[0].label,children:d.map((function(e){return Object(O.jsx)(L.a.Option,{value:e.value,disabled:e.disabled,children:e.label},e.id)}))})}),Object(O.jsx)(F.a.Item,{className:"mb15",label:i("backtest.form.field.time_range"),name:"timeRange",children:Object(O.jsx)(ie,{className:"w-p100",format:"YYYY/MM/DD"})}),Object(O.jsx)(F.a.Item,{className:"mb15",label:i("backtest.form.field.price_range_size"),name:"boundaryThreshold",children:Object(O.jsx)(L.a,{placeholder:v[0].label,children:v.map((function(e){return Object(O.jsx)(L.a.Option,{value:e.value,disabled:e.disabled,children:e.label},e.id)}))})}),Object(O.jsx)(F.a.Item,{className:"mb15",label:i("backtest.form.field.position_value"),name:"amount0",children:Object(O.jsx)(L.a,{placeholder:o[0].label,children:o.map((function(e){return Object(O.jsx)(L.a.Option,{value:e.value,disabled:e.disabled,children:e.label},e.id)}))})}),Object(O.jsx)("div",{className:"pt10"}),Object(O.jsx)(q.a,{loading:S,disabled:S,onClick:R,className:"d-block w-p100 h-45 center-vh",type:"primary",children:i("backtest.form.submit")}),Object(O.jsx)("div",{className:"pt10"})]})})}var je=a(1431);a(1413);var ue=a(364),fe=(a(1441),a(548));a(71);var me=function(e){var t=e.title,a=e.className,c=void 0===a?"center-v":a,r=Object(O.jsx)("div",{className:"p5 fc-white",children:t});return Object(O.jsx)(ue.a,{title:r,overlayInnerStyle:{},children:Object(O.jsxs)("div",{className:"d-flex sh-1 ".concat(c),children:[Object(O.jsx)("div",{children:e.children}),Object(O.jsx)(fe.a,{className:"fc-grey-lighter"})]})})},ve=a(34),he=a.n(ve),Oe=function(e){var t=e.logs,a=void 0===t?[]:t,c=e.base,r=void 0===c?{}:c,s=a.map((function(e){return{type:e[11],time:e[0],price:Object(b.a)(Number(e[1]),4),liquidity:"".concat(Object(b.a)(Math.abs(Number(e[2])),4)," ").concat(r.token0," + ").concat(Object(b.a)(Math.abs(Number(e[3])),4)," ").concat(r.token1),im:e[7],gasFee:Object(b.a)(Object(b.b)(new he.a(e[9]).times(e[10])),4,4),gasPrice:Object(b.a)(e[9]/1e9,2,2),fees:e[8]}})),i=Object(n.a)().t;return Object(O.jsx)(je.a,{size:"small",pagination:{defaultPageSize:10,className:"m15"},dataSource:s,columns:ge(i)})},pe=function(e,t){var a=Number(t.im)+Number(t.fees);return xe(a)},xe=function(e){switch(!0){case Number(e)>0:return Object(O.jsx)("div",{className:"fc-up fw-bolder",children:o(e,4)});case 0===Number(e):return Object(O.jsx)("div",{className:"fc-grey-lighter",children:"0%"});case Number(e)<0:return Object(O.jsx)("div",{className:"fc-down fw-bolder",children:o(e,4)});default:return null}},ke=function(e){return Object(O.jsx)("div",{className:"fc-grey",children:Object(i.a)(new Date(1e3*e),"yyyy-MM-dd HH:mm")})},Ne=function(e){var t=e.value,a=Object(n.a)().t;return"add"===t?Object(O.jsx)("div",{className:"bg-primary fc-black box-round text-center pl10 pr10 h-30 center-v",style:{textTransform:"capitalize",width:"135px"},children:a("backtest.tab.type_add")}):Object(O.jsx)("div",{className:"bg-warn fc-black box-round text-center pl10 pr10 h-30 center-v",style:{textTransform:"capitalize",width:"135px"},children:a("backtest.tab.type_remove")})},ge=function(e){return[{title:e("backtest.tab.time"),dataIndex:"time",key:"time",render:ke},{title:e("backtest.tab.type"),dataIndex:"type",key:"type",render:function(e){return Object(O.jsx)(Ne,{value:e})}},{title:e("backtest.tab.liquidity"),dataIndex:"liquidity",key:"liquidity"},{title:e("backtest.tab.price"),dataIndex:"price",key:"price"},{title:e("backtest.tab.gasfee"),dataIndex:"gasFee",key:"gasFee",render:function(e,t,a){return Object(O.jsxs)("div",{children:[(0===a||0===Number(e))&&"--",0!==a&&0!==Number(e)&&Object(O.jsx)(me,{title:"Gas Price: ".concat(t.gasPrice," Gwei"),children:e})]})}},{title:e("backtest.tab.fc"),dataIndex:"fees",key:"fees",render:xe},{title:Object(O.jsx)(me,{title:e("backtest.tab.rebalance_loss_tips"),children:e("backtest.tab.rebalance_loss")}),dataIndex:"im",key:"im",render:xe},{title:e("backtest.tab.net_profit"),dataIndex:"profit",key:"profit",render:pe}]},ye=a(1442),we=a(1209),_e=a(1443),Me=function(){var e=Object(n.a)().t;return Object(O.jsxs)("div",{className:"sv-3",children:[Object(O.jsx)("div",{className:"fs18 fw-bolder fc-grey",children:e("backtest.feature.title")}),Object(O.jsx)(Te,{className:"bg-primary",icon:Object(O.jsx)(ye.a,{}),title:e("backtest.feature.onchain"),des:""}),Object(O.jsx)(Te,{className:"bg-warn",icon:Object(O.jsx)(we.a,{}),title:e("backtest.feature.block_level")}),Object(O.jsx)(Te,{className:"bg-red",icon:Object(O.jsx)(_e.a,{}),title:e("backtest.feature.strategy")}),Object(O.jsx)(Te,{className:"bg-blue-light",icon:Object(O.jsx)(M.a,{}),title:e("backtest.feature.indicator")}),Object(O.jsx)("div",{className:"pt50"})]})},Te=function(e){var t=e.icon,a=e.title,c=e.des,r=e.className,s=void 0===r?"":r;return Object(O.jsxs)("div",{className:"center-v d-flex box-round sh-2 pl15 pr10 pt10 pb10 ".concat(s),children:[Object(O.jsx)("div",{className:"fc-black fs20",children:t}),Object(O.jsxs)("div",{className:"",children:[Object(O.jsx)("div",{className:"fc-black fs16 fw-bold",children:a}),c&&Object(O.jsx)("div",{className:"fs14 fc-black",children:c})]})]})},De=function(){var e=Object(c.useState)({report_name:"",base_info:{},global_info:{apr:[],commission:[],rate:[],reBalanceTime:[],swapFee:[]},market_info:{},im_list:[],risk_info:[],trade_info:[],ts_list:[]}),t=Object(r.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)(!1),n=Object(r.a)(l,2),o=n[0],d=n[1],j=function(e){var t=e||{}||{},a=t.trade_info,c=void 0===a?[]:a,r=t.market_info,s=void 0===r?{}:r,l=t.im_list,n=void 0===l?[]:l,o=t.ts_list,d=void 0===o?[]:o,j=t.global_info,u=void 0===j?{}:j,f=t.risk_info,m=void 0===f?{}:f,v=t.base_info,h=void 0===v?{}:v,O=c[0]||[],p=c[c.length-1]||[],x={first:{token0:O[2]?Object(b.a)(Math.abs(Number(O[2])),4):"- -",token1:O[3]?Object(b.a)(Math.abs(Number(O[3])),4):"- -"},last:{token0:p[2]?Object(b.a)(Math.abs(Number(p[2])),4):"- -",token1:p[3]?Object(b.a)(Math.abs(Number(p[3])),4):"- -"}},k=d.map((function(e,t){return{time:Object(i.a)(new Date(1e3*e),"MM/dd HH:mm"),value:Object(b.a)(Number(n[t]),4)}}));return{overview:Object(H.a)(Object(H.a)({},u),{},{risk:m,base:h,market:s,position:x}),chartData:k,logs:c}}(a),u=j.overview,f=j.chartData,m=j.logs;return Object(O.jsx)(Y,{sider:Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"p15",children:Object(O.jsx)(de,{onBacktestDataFetched:function(e){s(e)},onLoading:function(e){d(e)}})}),Object(O.jsx)("div",{className:"",style:{borderBottom:"1px solid rgba(255,255,255,0.1)"}}),Object(O.jsx)("div",{className:"p15",children:Object(O.jsx)(Me,{})})]}),children:Object(O.jsxs)("div",{className:"sv-4",children:[Object(O.jsx)(Be,{loading:o,overview:u,chartData:f}),Object(O.jsx)(He,{loading:o,overview:u}),Object(O.jsx)(Ie,{loading:o,overview:u,logs:m})]})})},Se=function(e){var t=e.base;if(!t.start_ts)return Object(O.jsx)("div",{children:"- -"});var a="".concat(Object(i.a)(new Date(1e3*Number(t.start_ts)),"yyyy/MM/dd")," ~ ").concat(Object(i.a)(new Date(1e3*Number(t.end_ts)),"yyyy/MM/dd"));return Object(O.jsx)("div",{className:"",children:a})},Pe=function(e){var t=e.base;if(!t.start_ts)return Object(O.jsx)("div",{children:"- -"});var a=Object(l.a)(new Date(1e3*Number(t.end_ts)),new Date(1e3*Number(t.start_ts)));return Object(O.jsx)("div",{children:a})},Re=function(e){var t=Object(n.a)().t,a=e.base,c="- -";switch(Number(a.direction)){case 0:c=t("backtest.form.field.rs_bull");break;case 1:c=t("backtest.form.field.rs_bear");break;case 3:c=t("backtest.form.field.rs_null");break;case 4:c=t("backtest.form.field.rs_trade")}return Object(O.jsx)("div",{children:c})},Ye=function(e){var t=e.base;return t.token0?Object(O.jsxs)("div",{children:[t.token0,"-",t.token1," ",o(t.tier)]}):Object(O.jsx)("div",{children:"- -"})},Be=function(e){var t=Object(n.a)().t,a=e.overview,c=e.chartData,r=e.loading,i=a.rate,l=void 0===i?[]:i,b=a.apr,o=void 0===b?[]:b,d=a.risk,j=void 0===d?{}:d,u=a.reBalanceTime,f=void 0===u?[]:u,m=a.base,v=void 0===m?{}:m,h=[{label:t("backtest.form.field.pool"),value:Object(O.jsx)(Ye,{base:v})},{label:t("backtest.form.field.time_range"),value:Object(O.jsx)(Se,{base:v})},{label:t("backtest.field.total_days"),value:Object(O.jsx)(Pe,{base:v})},{label:t("backtest.form.field.price_range_size"),value:re(v.lower_rate)+re(v.upper_rate),valueType:"nocolorPercent"},{label:t("backtest.form.field.rebalance_strategy"),value:Object(O.jsx)(Re,{base:v})},{label:t("backtest.form.field.rebalance_threshold"),value:3!==Number(v.direction)?re(v.reb_rate):null,valueType:"nocolorPercent"},{label:t("backtest.field.gross_fee_apr"),value:o[1],valueType:"percent"},{label:t("backtest.field.gross_fee_return"),value:l[1],valueType:"percent"},{label:t("backtest.field.net_apr"),value:o[0],valueType:"percent",tip:t("backtest.field.net_apr_tips")},{label:t("backtest.field.net_return"),value:l[0],valueType:"percent",tip:t("backtest.field.net_return_tips")},{label:t("backtest.field.rebalance_times"),value:Number.isNaN(f[0]+f[1])?"- -":Object(O.jsx)("div",{className:"fs16 fw-bolder fc-primary",children:f[0]+f[1]})},{label:t("backtest.field.rwr"),value:j.winRate,valueType:"percent"},{label:t("backtest.field.max_drawdown"),value:j.maxDrawDown,valueType:"nocolorPercent"},{label:t("backtest.field.volatility"),value:j.volatility,valueType:"nocolorPercent"},{label:t("backtest.field.sharpe_ratio"),value:j.sharpe?Number(j.sharpe).toFixed(4):"--"}];return Object(O.jsxs)(s.a,{loading:r,className:"transparent-card",title:t("backtest.performance.title"),bodyStyle:{padding:0},children:[Object(O.jsx)("div",{className:"row ml0 mr0",children:h.map((function(e){return Object(O.jsx)("div",{className:"col-md-2 p5",style:{borderBottom:"1px solid rgba(255,255,255,0.05)",borderRight:"1px solid rgba(255,255,255,0.05)"},children:Object(O.jsx)(qe,{meta:e})},e.label)}))}),Object(O.jsx)(p,{chartData:c})]})},He=function(e){var t=e.overview,a=void 0===t?{}:t,c=e.loading,r=a.market,i=void 0===r?{}:r,l=Object(n.a)().t,o=[{label:l("backtest.market.open_price"),value:i.open?Object(b.a)(Number(i.open),4):"- -"},{label:l("backtest.market.close_price"),value:i.close?Object(b.a)(Number(i.close),4):"- -"},{label:l("backtest.market.high_price"),value:i.high?Object(b.a)(Number(i.high),4):"- -"},{label:l("backtest.market.low_price"),value:i.low?Object(b.a)(Number(i.low),4):"- -"},{label:l("backtest.market.change"),value:Number(i.close)/Number(i.open)-1,valueType:"percent"},{label:l("backtest.market.amplitude"),value:(Number(i.high)-Number(i.low))/Number(i.open),valueType:"nocolorPercent"}];return Object(O.jsx)(s.a,{loading:c,className:"transparent-card-bak",title:l("backtest.market.title"),bodyStyle:{padding:0},children:Object(O.jsx)("div",{className:"row ml0 mr0",children:o.map((function(e){return Object(O.jsx)("div",{className:"col-md-2 p5",style:{borderBottom:"1px solid rgba(255,255,255,0.05)",borderRight:"1px solid rgba(255,255,255,0.05)"},children:Object(O.jsx)(qe,{meta:e})},e.label)}))})})},Ie=function(e){var t=e.overview,a=void 0===t?{}:t,c=e.logs,r=void 0===c?[]:c,i=e.loading,l=a.base,b=void 0===l?{}:l,o=Object(n.a)().t;return Object(O.jsxs)(s.a,{loading:i,className:"transparent-card-bak",title:o("backtest.activity.title"),bodyStyle:{padding:0},children:[Object(O.jsx)(Le,{overview:a}),Object(O.jsx)("div",{className:"bb-grey-light "}),Object(O.jsx)(Oe,{logs:r,base:b})]})},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return Number(e).toFixed(t)},Le=function(e){var t=e.overview,a=t.position,c=t.commission,r=void 0===c?[]:c,s=t.base,i=void 0===s?{}:s,l=Object(n.a)().t,b=[{label:l("backtest.pcard.initial_pos"),token0:a.first.token0,token1:a.first.token1},{label:l("backtest.pcard.final_pos"),token0:a.last.token0,token1:a.last.token1},{label:l("backtest.pcard.fee_collected"),token0:r[0]?Fe(r[0]):"- -",token1:r[1]?Fe(r[1]):"- -"}];return Object(O.jsx)("div",{className:"p15",children:Object(O.jsx)("div",{className:"row",children:b.map((function(e){return Object(O.jsx)("div",{className:"col-md-4",children:Object(O.jsx)(Ce,{position:e,base:i})},e.label)}))})})},qe=function(e){var t=e.meta,a=void 0===t?{}:t,c=a.label,r=a.value,s=a.valueType,i=a.tip;return Object(O.jsxs)("div",{className:"pl5 pr5 pt15 pb15 text-center",children:["percent"===s&&(Number.isNaN(r)||!r)&&Object(O.jsx)("div",{className:"fs18",children:"- -"}),"percent"===s&&Number(r)>=0&&Object(O.jsx)("div",{className:"fs16 fc-up fw-bolder h-25",children:r?o(r):"- -"}),"percent"===s&&Number(r)<0&&Object(O.jsx)("div",{className:"fs16 fc-down fw-bolder h-25",children:r?o(r):"- -"}),"nocolorPercent"===s&&Object(O.jsx)("div",{className:"fs14 fc-grey",children:r?o(r):"- -"}),!s&&Object(O.jsx)("div",{className:"fs14 fc-grey h-25",children:Number.isNaN(r)?"- -":r}),i&&Object(O.jsx)(me,{title:i,className:"center-vh",children:Object(O.jsx)("div",{className:"fs13 fc-grey-lighter",children:c})}),!i&&Object(O.jsx)("div",{className:"fs13 fc-grey-lighter",children:c})]})},Ce=function(e){var t=e.position,a=void 0===t?{}:t,c=e.base,r=void 0===c?{}:c;return Object(O.jsxs)("div",{className:"text-left sv-1 p15 box-round bg-primary",children:[Object(O.jsx)("div",{className:"fs14 fc-black",children:a.label}),!e.children&&Object(O.jsxs)("div",{className:"h-45",children:[Object(O.jsxs)("div",{className:"fs14 fc-black",children:[a.token0," ",r.token0]}),Object(O.jsxs)("div",{className:"fs14 fc-black",children:[a.token1," ",r.token1]})]}),e.children&&Object(O.jsx)("div",{className:"h-45 fc-black",children:e.children})]})},ze=function(){return Object(O.jsx)(De,{})}}}]);
//# sourceMappingURL=5.ee347b7c.chunk.js.map